---
import { buildSlug } from "@utils/utils"
import Socials from "@components/widgets/Socials.astro"

const data = [
  {
    title: "Product",
    links: [
      { text: "Features", href: "#" },
      { text: "Security", href: "#" },
      { text: "Team", href: "#" },
      { text: "Enterprise", href: "#" },
    ],
  },
  {
    title: "Platform",
    links: [
      { text: "Developer API", href: "#" },
      { text: "Partners", href: "#" },
      { text: "Atom", href: "#" },
      { text: "Electron", href: "#" },
    ],
  },
  {
    title: "Support",
    links: [
      { text: "Docs", href: "#" },
      { text: "Community Forum", href: "#" },
      { text: "Professional Services", href: "#" },
      { text: "Skills", href: "#" },
    ],
  },
]

const year = new Date().getFullYear()
---

<footer class="bg-white">
  <div class="mx-auto w-full max-w-screen-xl">
    <div class="grid grid-cols-2 gap-8 px-4 py-6 md:grid-cols-3 lg:py-8">
      {
        data.map(({ title, links }) => (
          <div>
            <p class="mb-8 text-sm font-semibold uppercase text-gray-dark">
              {title}
            </p>
            {links && Array.isArray(links) && links.length > 0 && (
              <ul class="font-medium text-gray">
                {links.map(({ text, href }) => (
                  <li class="mb-base">
                    <a href={buildSlug(href)} class="hover:underline">
                      {text}
                    </a>
                  </li>
                ))}
              </ul>
            )}
          </div>
        ))
      }
    </div>
    <div
      class="bg-gray-lightest px-4 py-6 md:flex md:items-center md:justify-between">
      <p class="text-sm text-gray sm:text-center">
        © <span id="footer-year">{year}</span>Flowbite™
      </p>. All Rights Reserved.
    </div>
    <Socials />
  </div>
</footer>

<script is:inline>
  document.getElementById("footer-year").innerText = new Date().getFullYear()
</script>
